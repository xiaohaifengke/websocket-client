{"version":3,"sources":["../src/heartbeat.js"],"names":["Heartbeat","constructor","ws","options","defaultOptions","message","period","checkIntervalId","check","setInterval","send","stopCheck","clearInterval","recheck"],"mappings":";AAAA,OAAO,MAAMA,SAAN,CAAgB;AACnBC,EAAAA,WAAW,CAAEC,EAAF,EAAMC,OAAN,EAAoB;AAAA,QAAdA,OAAc;AAAdA,MAAAA,OAAc,GAAJ,EAAI;AAAA;;AAC3B,QAAMC,cAAc,GAAG;AACnBC,MAAAA,OAAO,EAAE,MADU;AAEnBC,MAAAA,MAAM,EAAE;AAFW,KAAvB;AAIA,SAAKJ,EAAL,GAAUA,EAAV;AACA,SAAKC,OAAL,gBAAoBC,cAApB,MAAuCD,OAAvC;AACA,SAAKI,eAAL,GAAuB,IAAvB;AACH;;AAEDC,EAAAA,KAAK,GAAI;AACL,SAAKD,eAAL,GAAuBE,WAAW,CAAC,MAAM;AACrC,WAAKP,EAAL,CAAQQ,IAAR,CAAa,KAAKP,OAAL,CAAaE,OAA1B;AACH,KAFiC,EAE/B,KAAKF,OAAL,CAAaG,MAFkB,CAAlC;AAGH;;AAEDK,EAAAA,SAAS,GAAI;AACTC,IAAAA,aAAa,CAAC,KAAKL,eAAN,CAAb;AACA,SAAKA,eAAL,GAAuB,IAAvB;AACH;;AAEDM,EAAAA,OAAO,GAAI;AACP,SAAKF,SAAL;AACA,SAAKH,KAAL;AACH;;AAzBkB","sourcesContent":["export class Heartbeat {\r\n    constructor (ws, options = {}) {\r\n        const defaultOptions = {\r\n            message: 'ping',\r\n            period: 50000\r\n        }\r\n        this.ws = ws\r\n        this.options = { ...defaultOptions, ...options }\r\n        this.checkIntervalId = null\r\n    }\r\n\r\n    check () {\r\n        this.checkIntervalId = setInterval(() => {\r\n            this.ws.send(this.options.message)\r\n        }, this.options.period)\r\n    }\r\n\r\n    stopCheck () {\r\n        clearInterval(this.checkIntervalId)\r\n        this.checkIntervalId = null\r\n    }\r\n\r\n    recheck () {\r\n        this.stopCheck()\r\n        this.check()\r\n    }\r\n}"],"file":"heartbeat.js"}