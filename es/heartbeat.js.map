{"version":3,"sources":["../src/heartbeat.js"],"names":["Heartbeat","ws","options","defaultOptions","message","period","checkIntervalId","setInterval","send","clearInterval","stopCheck","check"],"mappings":";;;;;;;;AAAA,WAAaA,SAAb;AACE,qBAAaC,EAAb,EAA+B;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAAA;;AAC7B,QAAMC,cAAc,GAAG;AACrBC,MAAAA,OAAO,EAAE,MADY;AAErBC,MAAAA,MAAM,EAAE;AAFa,KAAvB;AAIA,SAAKJ,EAAL,GAAUA,EAAV;AACA,SAAKC,OAAL,mCAAoBC,cAApB,GAAuCD,OAAvC;AACA,SAAKI,eAAL,GAAuB,IAAvB;AACD;;AATH;AAAA;AAAA,4BAWW;AAAA;;AACP,WAAKA,eAAL,GAAuBC,WAAW,CAAC,YAAM;AACvC,QAAA,KAAI,CAACN,EAAL,CAAQO,IAAR,CAAa,KAAI,CAACN,OAAL,CAAaE,OAA1B;AACD,OAFiC,EAE/B,KAAKF,OAAL,CAAaG,MAFkB,CAAlC;AAGD;AAfH;AAAA;AAAA,gCAiBe;AACXI,MAAAA,aAAa,CAAC,KAAKH,eAAN,CAAb;AACA,WAAKA,eAAL,GAAuB,IAAvB;AACD;AApBH;AAAA;AAAA,8BAsBa;AACT,WAAKI,SAAL;AACA,WAAKC,KAAL;AACD;AAzBH;;AAAA;AAAA","sourcesContent":["export class Heartbeat {\r\n  constructor (ws, options = {}) {\r\n    const defaultOptions = {\r\n      message: 'ping',\r\n      period: 50000\r\n    }\r\n    this.ws = ws\r\n    this.options = { ...defaultOptions, ...options }\r\n    this.checkIntervalId = null\r\n  }\r\n\r\n  check () {\r\n    this.checkIntervalId = setInterval(() => {\r\n      this.ws.send(this.options.message)\r\n    }, this.options.period)\r\n  }\r\n\r\n  stopCheck () {\r\n    clearInterval(this.checkIntervalId)\r\n    this.checkIntervalId = null\r\n  }\r\n\r\n  recheck () {\r\n    this.stopCheck()\r\n    this.check()\r\n  }\r\n}\r\n"],"file":"heartbeat.js"}